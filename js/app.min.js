(()=>{"use strict";const t={};let e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function r(t){setTimeout((()=>{window.FLS&&console.log(t)}),0)}function o(t){return t.filter((function(t,e,r){return r.indexOf(t)===e}))}t.ba=new class{constructor(t){if(this.config=Object.assign({init:!0,logging:!0},t),this.config.init){const t=document.querySelectorAll("[data-ba]");t.length>0?(this.setLogging(`Прокинувся, бачу елементів: ${t.length}`),this.beforeAfterInit(t)):this.setLogging("Прокинувся, не бачу елементів")}}beforeAfterInit(t){t.forEach((t=>{t&&(this.beforeAfterClasses(t),this.beforeAfterItemInit(t))}))}beforeAfterClasses(t){t.querySelector("[data-ba-arrow]");t.addEventListener("mouseover",(function(e){const r=e.target;r.hasAttribute("data-ba-arrow")||(r.closest("[data-ba-before]")?(t.classList.remove("_right"),t.classList.add("_left")):(t.classList.add("_right"),t.classList.remove("_left")))})),t.addEventListener("mouseleave",(function(){t.classList.remove("_left"),t.classList.remove("_right")}))}beforeAfterItemInit(t){const r=t.querySelector("[data-ba-arrow]"),o=t.querySelector("[data-ba-after]"),n=parseFloat(window.getComputedStyle(r).getPropertyValue("width"));let s={};function c(r){s={width:t.offsetWidth,left:t.getBoundingClientRect().left-scrollX},e.any()?(document.addEventListener("touchmove",a),document.addEventListener("touchend",(function(t){document.removeEventListener("touchmove",a)}),{once:!0})):(document.addEventListener("mousemove",a),document.addEventListener("mouseup",(function(t){document.removeEventListener("mousemove",a)}),{once:!0})),document.addEventListener("dragstart",(function(t){t.preventDefault()}),{once:!0})}function a(t){const e="touchmove"===t.type?t.touches[0].clientX-s.left:t.clientX-s.left;if(e<=s.width&&e>0){const t=e/s.width*100;r.style.cssText=`left:calc(${t}% - ${n}px)`,o.style.cssText=`width: ${100-t}%`}else e>=s.width?(r.style.cssText=`left: calc(100% - ${n}px)`,o.style.cssText="width: 0%"):e<=0&&(r.style.cssText="left: 0%",o.style.cssText="width: 100%")}r&&(e.any()?r.addEventListener("touchstart",c):r.addEventListener("mousedown",c))}setLogging(t){this.config.logging&&r(`[BeforeAfter]: ${t} `)}}({});t.watcher=new class{constructor(t){this.config=Object.assign({logging:!0},t),this.observer,!document.documentElement.classList.contains("watcher")&&this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.classList.add("watcher"),this.scrollWatcherConstructor(document.querySelectorAll("[data-watch]"))}scrollWatcherConstructor(t){if(t.length){this.scrollWatcherLogging(`Прокинувся, стежу за об'єктами (${t.length})...`),o(Array.from(t).map((function(t){return`${t.dataset.watchRoot?t.dataset.watchRoot:null}|${t.dataset.watchMargin?t.dataset.watchMargin:"0px"}|${t.dataset.watchThreshold?t.dataset.watchThreshold:0}`}))).forEach((e=>{let r=e.split("|"),o={root:r[0],margin:r[1],threshold:r[2]},n=Array.from(t).filter((function(t){let e=t.dataset.watchRoot?t.dataset.watchRoot:null,r=t.dataset.watchMargin?t.dataset.watchMargin:"0px",n=t.dataset.watchThreshold?t.dataset.watchThreshold:0;if(String(e)===o.root&&String(r)===o.margin&&String(n)===o.threshold)return t})),s=this.getScrollWatcherConfig(o);this.scrollWatcherInit(n,s)}))}else this.scrollWatcherLogging("Сплю, немає об'єктів для стеження. ZzzZZzz")}getScrollWatcherConfig(t){let e={};if(document.querySelector(t.root)?e.root=document.querySelector(t.root):"null"!==t.root&&this.scrollWatcherLogging(`Эмм... батьківського об'єкта ${t.root} немає на сторінці`),e.rootMargin=t.margin,!(t.margin.indexOf("px")<0&&t.margin.indexOf("%")<0)){if("prx"===t.threshold){t.threshold=[];for(let e=0;e<=1;e+=.005)t.threshold.push(e)}else t.threshold=t.threshold.split(",");return e.threshold=t.threshold,e}this.scrollWatcherLogging("йой, налаштування data-watch-margin потрібно задавати в PX або %")}scrollWatcherCreate(t){this.observer=new IntersectionObserver(((t,e)=>{t.forEach((t=>{this.scrollWatcherCallback(t,e)}))}),t)}scrollWatcherInit(t,e){this.scrollWatcherCreate(e),t.forEach((t=>this.observer.observe(t)))}scrollWatcherIntersecting(t,e){t.isIntersecting?(!e.classList.contains("_watcher-view")&&e.classList.add("_watcher-view"),this.scrollWatcherLogging(`Я бачу ${e.classList}, додав клас _watcher-view`)):(e.classList.contains("_watcher-view")&&e.classList.remove("_watcher-view"),this.scrollWatcherLogging(`Я не бачу ${e.classList}, прибрав клас _watcher-view`))}scrollWatcherOff(t,e){e.unobserve(t),this.scrollWatcherLogging(`Я перестав стежити за ${t.classList}`)}scrollWatcherLogging(t){this.config.logging&&r(`[Спостерігач]: ${t}`)}scrollWatcherCallback(t,e){const r=t.target;this.scrollWatcherIntersecting(t,r),r.hasAttribute("data-watch-once")&&t.isIntersecting&&this.scrollWatcherOff(r,e),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:t}}))}}({});let n=!1;setTimeout((()=>{if(n){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0),window.FLS=!1,function(t){let e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)})),document.documentElement.classList.contains("loading")||window.addEventListener("load",(function(){setTimeout((function(){document.documentElement.classList.add("loaded")}),0)}))})();